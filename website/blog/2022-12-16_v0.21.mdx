---
slug: v0.21
title: moon v0.21
authors: [milesj]
tags: [runner]
# image: ./img/v0.20.png
---

TODO

<!--truncate-->

## New `--updateCache` command line option

Our caching layer is pretty powerful, as it helps to avoid tasks from running unnecessarily.
However, there are situations where you need to refresh or force update the cache outside of the
[`inputs`](../docs/config/project#inputs) list. This is currently achieved with the
[`--cache`](../docs/commands/overview#caching) option, like `moon --cache off run ...`, but this is
non-ideal for a few reasons:

1. It disables _all caching_, which means dependency installs/dedupes will continually be ran. This
   adds a lot of unwanted overhead.
2. It requires you to backspace in the terminal to add the option _before_ `run` or `check`, as it's
   a global option. A little tedious but important for experience.

So to work around these limitations, we've added a new `--updateCache` (or `-u`) to both
[`moon run`](../docs/commands/run) and [`moon check`](../docs/commands/run), which will bypass
reading any existing cache items, but will force update the cache base on the latest run.

```shell
$ moon run app:build --updateCache
```

## New multi-status affected filtering

We support running tasks based on affected files using the
[`moon run --affected`](../docs/commands/run) command, which is great for reducing the amount of
tasks being ran, and for applying code quality tooling like git hooks. However, you were only able
to apply a single status filter, like "deleted" or "modified", which was non-ideal... but no more!

You can now apply multiple statuses by passing the `--status` option multiple times.

```shell
$ moon run :lint --affected --status modified --status added
```

This pairs nicely with the recent
[`affectedFiles` task option](../docs/config/project#affectedfiles) changes!

## Other changes

View the
[official release](https://github.com/moonrepo/moon/releases/tag/%40moonrepo%2Fcli%400.21.0) for a
full list of changes.

- Rewritten project and dependency graphs for improved performance.
- Added args and env var variants to the `affectedFiles` task option.
- Added `--minimal` option to `moon init` for quick scaffolding and prototyping.
- Added global `--concurrency` option to all `moon` commands, allowing the thread count to be
  customized.

## What's next?

Expect the following in the v0.21 release!

- Scope tasks defined in `.moon/project.yml` to a project language or type.
- Generalized hashing for use in any context (improved deps installation).
