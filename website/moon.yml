language: typescript
type: application

dependsOn:
  - id: 'runtime'
    scope: 'development'
  - id: 'types'
    scope: 'development'

tasks:
  build:
    command: 'docusaurus build'
    deps:
      - '^:build'
    outputs:
      - 'build'

  start:
    command: 'docusaurus start'
    deps:
      - '^:build'
    local: true

  typecheck:
    command: 'tsc --build --pretty --verbose'
    inputs:
      - '@globs(sources)'
      - '*.js'
      - 'tsconfig.json'

  stdin:
    command: 'node test.js'

workspace:
  inheritedTasks:
    exclude:
      - 'build'
      - 'typecheck'
