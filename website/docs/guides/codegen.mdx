---
title: Generating code
---

## Creating a new template

To create a new template, run [`moon generate`][command] while passing the `--template` option. This
will create a template directory and [`template.yml`][config] file in the 1st configured template
location defined in [`generator.templates`][gen-templates].

```shell
$ moon generate <name> --template
```

Once created, feel free to add any files and folders to this template directory that you'd like to
be scaffolded when the template is generated by consumers!

### Configuring `template.yml`

Every template requires a [`template.yml`][config] file in the template's directory root. This file
acts as a schema and declares metadata and variables required by the generator.

## Sharing templates

Although moon is designed for a monorepo, you may be using multiple repositories and would like to
use the same templates across all of them.

This is technically possible, but with 1 caveat, and that is that moon's generator requires
templates to exist within the current repository, relative from the workspace root. So how can we
share templates across repositories? Why not try...

- git submodules
- npm packages
- other packaging system

Regardless of the choice, simply configure [`generator.templates`][gen-templates] to point to these
locations:

```yaml title=".moon/workspace.yml"
generator:
	templates:
		- './templates'
		- './node_modules/@company/shared-templates'
		- './path/to/submodules'
```

[config]: ../config/template
[command]: ../commands/generate
[gen-templates]: ../config/workspace#templates
