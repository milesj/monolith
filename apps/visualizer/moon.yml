type: 'application'

tasks:
  build:
    command: vite build
    deps:
      - '~:codegen'
    outputs:
      - dist

  codegen:
    command:
      - 'graphql-codegen'
      - '--config'
      - 'codegen.yaml'
    local: true

  dev:
    command: vite dev
    local: true

  lint:
    deps:
      - '~:codegen'

  preview:
    command: vite preview
    local: true

  test:
    command:
      - vitest
      - run
      - '--coverage'
      - '--passWithNoTests'

workspace:
  inheritedTasks:
    exclude:
      - 'build'
      - 'test'
      - 'typecheck'
